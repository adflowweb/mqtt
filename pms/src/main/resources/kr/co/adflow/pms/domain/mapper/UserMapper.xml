<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.adflow.pms.domain.mapper.UserMapper">

	<resultMap id="UserResult" type="kr.co.adflow.pms.domain.User">
		<result property="userId" column="user_id" />
		<result property="role" column="role" />
		<result property="password" column="password" />
		<result property="userName" column="user_name" />
		<result property="ipFilters" column="ip_filters" />
		<result property="status" column="status" />
		<result property="msgCntLimitDay" column="message_count_limit_day" />
		<result property="issueTime" column="issue_time" />
		<result property="updateTime" column="update_time" />
	</resultMap>

	<select id="select" parameterType="String"
		resultType="kr.co.adflow.pms.domain.User">
		SELECT user_id, role, password, user_name, ip_filters, status, 
		message_count_limit_day, issue_time, update_time
		FROM user a
		WHERE 
		a.user_id = #{userId}
	</select>

	<update id="updateUserStatus" parameterType="kr.co.adflow.pms.domain.User">
		UPDATE  user
		SET status = #{status}, update_time = now()
		WHERE user_id = #{userId}
	</update>

	<insert id="insertUser" parameterType="kr.co.adflow.pms.domain.User">
		INSERT INTO user
		(user_id
		,role
		,password
		,user_name
		,ip_filters
		,status
		,message_count_limit_day
		,issue_time
		,update_time
		)
		values(
		#{userId},
		#{role},
		#{password},
		#{userName},
		#{ipFilters},
		#{status},
		#{msgCntLimitDay},
		now(),
		now()
		)
	</insert>


</mapper>	